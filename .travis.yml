language: cpp

matrix:
  include:
    - os: linux
      sudo: required
      dist: trusty
      compiler: gcc

script:
  - cmake .
  - make

before_deploy:
- if [ "$TRAVIS_OS_NAME" == "linux" ];   then source ./travis/linux.package.sh;   fi

deploy:
  provider: releases
  api_key:
    secure: "bs3HzsKg/mtsI0nvdZb8b9xMTB+3j3cJ7UEY5ghRTCOCJLmZZIc3/6+cCvT8SJ8LGBXMtwI07jpJFkno55gEqDojd59rnFxwBe1qm1kygw1F74csWSjCguWkW7i2GcsnoZdsaO5S1hVYdWfiAsRspjge6w4noTV4iwhMf2gNeHopbg86gVi7p25LdbZTw+TccDCtEuukOSBfrSf/s4SaJfukswuAFF7HXiA9Izih1h24YFQpOg37m0aS8ygKP1LM4eHrn69DErnHbn8Lwq6CB9XhTm2sL0AuCj1o+7THkKNLfCMeIcA5HFqVZEYRWzJsw1UEuXkpJyoflfXpPSmYRdWISRIwDGY75w1drGwIgSQMiRHxvhCX9TDga/gB0VYmTIY+yL496byZFc5E1BHy7KP9dkLUWYVTILFTo4v1x7dTn/nmFcZ3n3mTZd8k2qtsHQZFjD44yy3pLtoRJZmqdfBTCh+Rc9V4e9b1vqJKxiYTZRByHY/PDp4rcssMu3KdxwQZaSjzOmdmNBZGag1nEpXz2IoxOoZ2pkO2Cfw8MgpuDdiykkb3dfIRQ9S1baHCRyYZpA036cNqiKlK0dW6tlmA7D9jHRHKboyQBoql/6txh2Z0CYv4J9Olo8gwDXgyuaRmlarKP4WcGZImnqKClV0qUn23GrR/8d8lVi0OIIo="
  file: tsc.tar.gz
  skip_cleanup: true
  overwrite: true
  draft: true
  on:
    tags: true
    condition: "$TRAVIS_OS_NAME = linux"